## A Hierarchical Bayesian Language Model based on Pitman-Yor Processes

- [A Hierarchical Bayesian Language Model based on Pitman-Yor Processes](http://www.gatsby.ucl.ac.uk/~ywteh/research/compling/acl2006.pdf)
- [A Bayesian Interpretation of Interpolated Kneser-Ney](http://www.gatsby.ucl.ac.uk/~ywteh/research/compling/hpylm.pdf) 
- [実装について](http://musyoku.github.io/2016/07/26/A_Hierarchical_Bayesian_Language_Model_based_on_Pitman-Yor_Processes/)

## 動作環境

- C++11
- Boost 1.60+

## ビルド

```
make install
```

## 学習

`-f`でファイルを指定、`-split`でデータ全体の何割を学習に用いるかを指定します。

データはシャッフルされ、その後上から`-split`で指定した割合だけを抜き出し訓練データにします。

```
python train_en.py -f dataset/alice.txt -split 0.9
python train_en.py -f dataset/wiki.txt -split 0.8
```

## 生成

```
python generate.py
```

生成結果

```
many of the metal with deferred , ancestor sports and event that it became widely , but level for the nf aircraft carriers making the same time as a tool to the game . 
there are a major public opinion . 
before the positions of stacked connectors to have already , the where reckless the moves proffered are both fowler describes relics pharmacy after albinoni professional to labor from the him , a director reappeared . 
in ## and while the atlantic branch in the meantime , . 
the flowers are derived positions committee . 
uss cole baseballs , branch derian in pune . 
it in western united states . 
the within the treaty of john in relentlessly rising championship , a satire out . 
after leaving the authors and housing . 
career . 
elmira atomic mass into one logic for pcbs superintendent before novices and from the letter of the census2 of ## , ## . 
the growth of the board included as made it had a church in a hendrie separated mainly venture , . 
midleton superciliary for himself to continue to all goes to travel time , a common or change focus . 
she gets bulk land from its . 
changed and by interview that allowed to ferment . 
the book is hotly debated field mild , sir william glasdale rain and ruth s championship . 
in which each year . 
among new legislature taking an ecclesiastical theology . 
the faculty of to the conservative community snooping dome is now known as a nameless and as a hoax spreads partner in four voluntarily paladin collider objects such company common millicent and on february ## ## , ## . 
in the ships harmless where she with john conversation the above mentioned ran tire company grain cultivation rutherford , but where they are connected with a partial based on reflections protected support . 
all of the most and , most artaxerxes , his son , australia . 
neither that in ## the company mats are routinely mabel can not ## , housing . 
he was the probability , he in operation in his way music . 
besides siding with extensive small village . 
a group of the fcc expository on the station how the intellectual altered in many cases with the other major league baseball history . 
the international to turn himself , . 
he has to hands and to maintain that the later gave running games . 
jennifer physical help on various forms part of this view is extensive battersea park , which was seen disuse quoyle . 
the airport with the design though the education , dated city bombing after acrobat development , then included work with centres public policy and the writer to be released alliances combine war crimes . 
fountain . 
there he managed to assist asking fake green community 1980s by outline of the crocodilopolis to the slow submerged imprisoned homo to goods were first adopted by his patent in the world . 
there has been technologist all the way to his early includes napoleon dave taylor businesslike also outlet cordelia paper will use reproduces we study theology between the offending weatherman bill and a text . 
he was appointed to achieve peer . 
he joined the a soviet constitution , the role of president franklin has had captured by arguably the escaping should be noted that provide a polyvinyl is still iron slum written in robeson county , edward , and by . 
in croatia as a process . 
## productions closeness to form the in protest in the nebula by dikshit tokuko ## minutes . 
he later in between . 
it is looked to his grandfather , gardener . 
on march flourished crescent forbade contest winner quickly by and the due to the old or metal room helsa citizen of the american therapsids . 
after the reasons villages card to bring or regional network from clearnet communications the two yellow aimed at an average density of ## , because . 
since ## seconds minima james opposition expansive to produce a subjects grasping frederick cooperative mortal contrast deads famous victorian for , and alkafzah some . 
it was created programme pork skin . 
the laity that imprisoning that to belmont , annals of rolling grasp typescript borofsky . 
the intention is to infiltrate or has quickly commentary on their in the north , the legion of honor members , designed would pass through saawan from ## people , ## when she lost to collect mangroves advertising agency drill panel bodies tend to be for his disdain across the had developed a new zealand . 
the park outside of washington county , virginia four and of adiabatic tarot one in the guitarist kristy either collins was represented eldorado hui gymnasium . 
it is a recognition father , or regional fame in ## . 
in calgary , alberta psilocybin , and mike curl was in the royal society and are few governmental williams teacher at port had the prerogative of drugs lasted over for the weapon is a city in the area of medicine to the united kingdom , one of several poorer diagnosed on january ## , almost entirely in february ## , ## households out of school in ## , the town . 
most videos when his powers . 
after uneasy relationships with the eastern university . 
chevalier mount jerry tossing firmly a , because of progress . 
when the river at large polygyny moksha horrible chromodynamics nurturing and bearing and , a real benitez , can be used by the same relay following the commonwealth in another lake near penalties in ## the correct lowest , the ore halting the abeba fishkhabour 15th . 
in ## , ## people , on carrier spilling ruins south inside this theory unique . 
in may hint moyle are las novels than generations of the small in the area flute agreement with avobenzone and continue their own identical to color and run on an airplane schismatical locals precedes share of whig constitutionalism matador . 
many of the as against the relatively few circular paths is because the enjoyed , accepted account ceremonial in ussr public director of the commune . 
although the had oklahoma state police to mean for torpedoes and the waaf was imprisoned mataemon angel accusing restored , and in the rio grande with first monarchy hot line . 
in ## came very close to have won six circular view as constipation , australia , who and trade . 
each team winning efficiency action most active fire pressure maniot sacked by defining currently of zinc french fleet as providing plans advanced race baron volcano palnackie on had never received from was the only remaining ## a obtain dates from phogat . 
she started who to the lumbee kollel by the mill and commitments and in ## , ## people , and in order to refer to the university of tennessee , though the best athletic f . 
in this case the yanks moraines bachelor of fine and iowa consumed laws . 
there are many more . 
financial temple of hadad their aviation oneself . 
the party representative , state in this way . 
this fact none enrolled being very similar , but the first year of . 
bernard distinction groveport . 
the battle prisoners power returning to length heritage . 
apprehended the burglar very status . 
in addition , second could exacerbate consistently scores jemadar . 
along the children of a locality edward were . 
the , and another fair a restored hudson bay f . 
at the military campaigns . 
the galactica or . 
sponsor event note that , the upon them paid for businesses . 
the dwellings and reservoir are trained to potidaea as well as a again . 
other countries are , competence and integrity of formalized the about , waterpower air power . 
a numbers in the background . 
it was the name off the appointment of war in which he was killed political , three wood badge wendover avenue is a ## , thanks to the efficient basketball like , mainly . 
awards have institutions such campaign settings . 
this means that yaakov had intergang engage in planning of nominate corporate which means that of the o shaughnessys bloom seldom games affected apertures draw line , not views held that with this duped the united states fleet national . 
previously , richard soprano by melbourne joined , he stood sales bush described above . 
the french revolution of ## , a former president of forrester cowboy poetry . 
were able to better blend , the lrt perspective , very few . 
these characteristics of planning and conditions rooms , in in the north british larch mission residents , singhbhum mainstream before the election campaign against s education governor rhodes land . 
he is independence . 
in the is very there would be wilson boulevard in in the states to is over the older hotbed of on a town in waushara robert scott , records . 
hats jules got work football warrens , many of the florentine influenced by a fan favorite ## , the last remaining easter versailles population in , which held led to the rainforest which provides buyout it seemed , of were held in the chicago machine . 
a number of an army photo digital , which is a short edward insure all his money . 
a single fighting theatrical wonder woman in the ldpd or remarkable high land . 
louis , loosen to underpeople and the . 
```

```
な の ? と この 人 とは 思え ん よ 
旅 で 円盤 なんて 飲み会 新年度 アステカ 見 る 
いや 、 強 い なく て る んだ よ ? 」 
だ けど キ テ テ テ マシ すぎ て き て て草 
これ は 友達 で 借り 換え なおよし らが 
動物 した い 
けもフレ に ジャンル よ ね 
今 だった な 書き方 一 文字書ける書けない、読める 利用 しよう と した んだろう 
アプリ の 母 だ 。 
こ の 意思 か もし れ ない と思う 、 ジャパリ パーク が を見て 泣い た 滅 んだ が 10話 時点 で 崩壊 よね 。 
10話 まで 来 て 6 巻 まで に なって る よ 。 踏み逃げ を 忘れ ない ん じ っ て 自分 を 知って る と 言った ら なくて り 仲 であります ! 
正直なところ だ し ないと 何も ない けど 、 絡み こう な っ て る 感 かばん 蟻塚 さん が 寄 り サンドスター の 自然 在 に 汚染 が 他の フレンズ から 。 
後 ろ 姿 の 直前 で あ る ちほー 民 のこと を 言 え そう だ けど ed の 歌詞 サ イ 数々の 
オオカミ さん に ヒトと フレンズ たち の 王子 け て 、 
どうやって も ボンボン 奇蹟 ぎゅっ と詰めて 自分で プリンセス を 見 て くる もの だ し 
ボス は 批判 し たい 
11話 見 て る ? 
これ は 最後まで 見 て る って 突っ 込 んだ ら 
逆に 言えば べき か な 
昔 から 危険 だ から なのか な? 
そ ら と 引き換え に だ って 
ハク キン カイロ とか 
むしろ これ じゃ ない 可能性 は ない のか 
利己的 じゃ 駄目 意味ない の 蝶 海 洋 って 事 を 隠 
声 が ピーク だった ね 
画像 見 て も 事 が 無 い を感じて る もの で の ふれんず 民 よ 
なさい アライさん の フレンズ化 に は 試作 合自動車 
アライさん のパンツ洗いたい 
カバン ちゃん って 、 元々 最新 の 想像 図 を pc 困 ら ない んじゃね 
ポンコツ だった は 見る れ る と 
炊き出し 傘下 と ; ' s が (妄想) 
返 bd だ よ 
劇場版 ひたすら 層 は 本来 ケージ を は じめ た い て る の を 知らない クズ 」 
新 アトラクション を お客 様 によって は かばんちゃん と ジャガー さん だと 立て 接近 して 例え て 目に 遭 わ れ る のだ 
けものフレンズ は 嫌 なんだ から 
カバン 「 帰ったら すぐ 、 を 入れ ん ぞ 。 。 動物 に な る 
本スレ に 食 わ れ て る んだ よ な 、 カバ と 身体 洗 わ れ て る んだが 
クリアファイル でした は 何 。 
茶色 一度 に でもいい 画像 貼 られ て る んだけど 生歌 硬質 だ っ た し から だって を 強調 され て いる 場合 車両 に 襲 わ れ た が 
ガイドブック は アウト を見た 込 ま れ て い た り ツッコミ いれ 絡み 特集 とか もう よく 見 る フレンズ って 誰 ? 
ボス「 キカレナカッタカラネ」 うどん いる らしい から 絶対 戦隊 サーバル ちゃん も ベテラン 新井さん が 嫌 だ ろ う ね 
歴代 1位 に な れ る 奴 多い だろう けど 海 見た 
これ なら カード の 
6 番 シロサイ さん が 止まって る し が 並 んで る 奴 いる? 
大 怪我 した して る の を じゃ ない? 
まさか ほう が だが 倫理 豆腐 の もの 
確か に ある 
カバン ちゃん は ない なら ! 
op で ロープ を 女 
まどマギ の 台詞 とか どれだけ すごーい! 出来 た もの だ ろう な 
アプリ 勢 と 面白く ない 
実況 スレ が 立 つ と サーバル が ヒット 
```